# Atelier PHP â€” Syntaxe et Fondamentaux

## Objectif gÃ©nÃ©ral

Apprendre et tester concrÃ¨tement la syntaxe de base de PHP : variables, constantes, instructions `echo/print`, commentaires, et balises d'intÃ©gration HTML.

---

## PHP est un langage dynamique

### ğŸ§  Explication Conceptuelle

**PHP est dynamique** car il permet de modifier la structure et le type des donnÃ©es pendant l'exÃ©cution. Contrairement aux langages statiques comme Java ou C#, PHP ne nÃ©cessite pas de dÃ©clarer rigidement les types Ã  l'avance.

```php
// Typage dynamique
$variable = "hello";  // string
$variable = 42;       // maintenant integer
$variable = new User(); // maintenant objet

// Structure modifiable
$user = new stdClass();
$user->nouvellePropriete = "crÃ©Ã©e Ã  l'exÃ©cution"; // âœ…
```

**Ã‰volution rÃ©cente :** PHP ajoute des features de langages statiques (types, strict mode) tout en restant fondamentalement dynamique.

**Typage de propriÃ©tÃ©s (PHP 7.4+)**



## ğŸ” Ce qui se passe :

- **Avant PHP 7.4** : PHP convertissait automatiquement "123" en 123
- **Depuis PHP 7.4** : Avec les types stricts, PHP refuse la conversion et lance une erreur
- **Avantage** : Moins de bugs surprises, code plus prÃ©visible

```php
class User {
    public int $id;           // Type imposÃ©
    public string $name;      // Type imposÃ©
    private ?string $email;   // Peut Ãªtre null
}

$user = new User();
$user->id = "123"; // âŒ TypeError - attend un int
```



### Php est un langage interprÃ©tÃ©

![](C:\PHP\images\1\0.png)

> **Explication du processus :**
> 
> 1. Tu Ã©cris ton code PHP dans un fichier .php
> 2. Le serveur web (Apache/Nginx) dÃ©tecte la requÃªte PHP
> 3. L'interprÃ©teur PHP lit et exÃ©cute ton code ligne par ligne
> 4. Le rÃ©sultat HTML est envoyÃ© au navigateur
> 5. Le navigateur affiche la page finale

**Contrairement aux langages compilÃ©s comme C# :**

```bash
# C# : Compilation d'abord, exÃ©cution aprÃ¨s
csc /out:MonApp.exe /target:exe Program.cs
./MonApp.exe

# PHP : ExÃ©cution directe
php mon_script.php
```

---

## 1. DÃ©marrage et premiers scripts

### ğŸ¯ Objectif PÃ©dagogique

Comprendre le cycle de vie d'un script PHP et comment l'exÃ©cuter

### Ã‰tapes pratiques

CrÃ©er le fichier **hello.php** :

```php
<?php
  echo "Hello World!";
?>
```

#### ğŸ” Ce qui se passe dans le navigateur :

1. Tu tapes `http://localhost/hello.php` dans ton navigateur
2. Le serveur web reconnaÃ®t l'extension `.php`
3. Il envoie le fichier Ã  l'interprÃ©teur PHP
4. PHP exÃ©cute `echo "Hello World!";`
5. Le rÃ©sultat "Hello World!" est renvoyÃ© au navigateur
6. Tu vois le texte dans ta page web

#### ğŸ” Ce qui se passe en ligne de commande :

```bash
php hello.php
```

1. Le systÃ¨me trouve l'exÃ©cutable PHP
2. PHP lit et exÃ©cute directement le fichier
3. Le rÃ©sultat s'affiche dans le terminal
4. **Aucun serveur web n'est nÃ©cessaire !**

**Attendu :**

```
Hello World!
```

---

## 2. Balises PHP et Ã©chappement HTML

### ğŸ¯ Objectif PÃ©dagogique

Comprendre comment PHP s'intÃ¨gre dans du HTML et oÃ¹ le code est exÃ©cutÃ©

### Exemple Ã  tester

CrÃ©er le fichier **mix.php** :

```php
<!DOCTYPE html>
<html>
<body>
  <p>DÃ©but de la page HTML</p>

  <?php
    echo "Ceci est du code PHP exÃ©cutÃ© cÃ´tÃ© serveur.";
  ?>

  <p>Fin de la page HTML</p>
</body>
</html>
```

### ğŸ” Ce qui se passe :

1. Le navigateur demande `mix.php`
2. **CÃ´tÃ© serveur** : PHP exÃ©cute tout ce qui est entre `<?php ?>`
3. **CÃ´tÃ© serveur** : PHP remplace `<?php echo "..."; ?>` par le texte
4. **CÃ´tÃ© client** : Le navigateur reÃ§oit uniquement du HTML :
   
   ```html
   <!DOCTYPE html>
   <html>
   <body>
   <p>DÃ©but de la page HTML</p>
   Ceci est du code PHP exÃ©cutÃ© cÃ´tÃ© serveur.
   <p>Fin de la page HTML</p>
   </body>
   </html>
   ```

**RÃ©sultat attendu :**  
La phrase PHP s'affiche au milieu des paragraphes HTML.

### âš™ï¸ Variante pratique

Tester aussi la syntaxe alternative :

```php
<?php if (true): ?>
  <p>Condition vraie : affichÃ©</p>
<?php else: ?>
  <p>Condition fausse : non affichÃ©</p>
<?php endif; ?>
```

### ğŸ” Ce qui se passe :

- PHP Ã©value la condition `if (true)`
- Comme c'est vrai, il gÃ©nÃ¨re uniquement la premiÃ¨re balise `<p>`
- La partie `else` est complÃ¨tement ignorÃ©e
- RÃ©sultat HTML final :
  
  ```html
  <p>Condition vraie : affichÃ©</p>
  ```

---

## 3. Commentaires PHP

### ğŸ¯ Objectif PÃ©dagogique

Comprendre l'importance des commentaires pour la maintenance et la collaboration

### CrÃ©er le fichier **comments.php** :

```php
<?php
  // Ceci est un commentaire simple - ignorÃ© par PHP
  # Autre style de commentaire simple - aussi ignorÃ©

  /*
   * Commentaire multi-ligne
   * idÃ©al pour dÃ©crire une section complÃ¨te
   * PHP ignore tout ce bloc
   */

  /**
   * Exemple de DocBlock - utilisÃ© par les outils de documentation
   * @param int $a Premier nombre Ã  additionner
   * @param int $b DeuxiÃ¨me nombre Ã  additionner
   * @return int La somme des deux nombres
   */
  function add($a, $b) {
    return $a + $b;  // Seule cette ligne est exÃ©cutÃ©e
  }

  // Appel de la fonction - les commentaires n'affectent pas l'exÃ©cution
  echo add(5, 10);
?>
```

### ğŸ” Ce qui se passe :

1. PHP **ignore complÃ¨tement** tous les commentaires
2. Seul le code exÃ©cutable est conservÃ© en mÃ©moire
3. La fonction `add()` est dÃ©finie et appelÃ©e
4. Le calcul `5 + 10` est effectuÃ©
5. Le rÃ©sultat `15` est affichÃ©

**RÃ©sultat attendu :**

```
15
```

---

## 4. Variables et portÃ©e

### ğŸ¯ Objectif PÃ©dagogique

Comprendre la notion de portÃ©e et comment les variables sont accessibles dans diffÃ©rents contextes

### CrÃ©er le fichier **variables.php** :

```php
<?php
  // Variables GLOBALES - accessibles partout dans le script
  $name = "Alice";
  $age = 25;

  // PHP remplace automatiquement $name et $age par leurs valeurs
  echo "Bonjour $name, tu as $age ans.<br>";

  function test() {
    // Ã€ l'intÃ©rieur d'une fonction, les variables globales sont INACCESSIBLES
    // Sans 'global', $name n'existe pas ici

    global $name; // Maintenant $name fait rÃ©fÃ©rence Ã  la variable globale
    echo "AccÃ¨s global : $name<br>";

    // Sans 'global', ceci crÃ©erait une variable LOCALE $name
    // $name = "Bob"; // Ne modifierait pas la variable globale
  }

  test();
?>
```

### ğŸ” Ce qui se passe :

1. **Ligne 3-4** : CrÃ©ation des variables globales `$name` et `$age`
2. **Ligne 7** : PHP parse la string et remplace les variables par leurs valeurs
3. **Ligne 12** : La fonction `test()` est appelÃ©e
4. **Ligne 16** : `global $name` crÃ©e un lien vers la variable globale
5. **Ligne 17** : La variable globale est accessible et affichÃ©e

**RÃ©sultat attendu :**

```
Bonjour Alice, tu as 25 ans.
AccÃ¨s global : Alice
```

### Points clÃ©s Ã  retenir

- `$` prÃ©cÃ¨de toujours les variables.
- SensibilitÃ© Ã  la casse (`$age` â‰  `$Age`).
- Utiliser `global` pour accÃ©der Ã  une variable externe Ã  une fonction.

---

## 5. Echo vs Print

### ğŸ¯ Objectif PÃ©dagogique

Comprendre la diffÃ©rence subtile entre deux fonctions apparemment similaires

### CrÃ©er le fichier **output.php** :

```php
<?php
  $name = "Karim";

  // ECHO : peut afficher plusieurs arguments sÃ©parÃ©s par des virgules
  echo "Hello $name<br>";

  // PRINT : ne peut prendre qu'un seul argument
  print "Hello again, $name<br>";

  // ECHO avec multiples arguments
  echo "Test 1 ", "Test 2", " Test 3<br>";

  // PRINT retourne toujours 1, utile dans les expressions
  $resultat = print "Test 4";
  echo "<br>Print a retournÃ© : $resultat";
?>
```

### ğŸ” Ce qui se passe :

1. **Ligne 4** : `echo` traite et affiche immÃ©diatement la string
2. **Ligne 7** : `print` fait la mÃªme chose mais retourne la valeur 1
3. **Ligne 10** : `echo` affiche successivement les 3 arguments
4. **Ligne 13** : `print` affiche "Test 4" et retourne 1 dans `$resultat`

**RÃ©sultat attendu :**

```
Hello Karim
Hello again, Karim
Test 1 Test 2 Test 3
Test 4
Print a retournÃ© : 1
```

 **Note :**

- `echo` â†’ plus rapide, accepte plusieurs arguments.
- `print` â†’ retourne 1, utile dans des expressions.

---

## 6. var_dump() et diagnostic

### ğŸ¯ Objectif PÃ©dagogique

Apprendre Ã  inspecter le contenu et la structure des variables pour le dÃ©bogage

### CrÃ©er le fichier **vardump.php** :

```php
<?php
  $user = ["name" => "Sara", "age" => 30, "skills" => ["PHP", "MySQL"]];

  // var_dump affiche le TYPE, la TAILLE et la VALEUR
  var_dump($user);
?>
```

### ğŸ” Ce qui se passe :

`var_dump()` rÃ©vÃ¨le la structure interne :

- `array(3)` â†’ tableau de 3 Ã©lÃ©ments
- `["name"]=> string(4) "Sara"` â†’ clÃ© "name", type string, longueur 4, valeur "Sara"
- `["age"]=> int(30)` â†’ clÃ© "age", type integer, valeur 30
- `["skills"]=> array(2)` â†’ clÃ© "skills", valeur = autre tableau de 2 Ã©lÃ©ments

ğŸ§ª **RÃ©sultat attendu :**  
PHP affiche le type et la structure du tableau.

 **Astuce :**  
Encadrez avec `<pre>` pour lisibilitÃ© :

```php
echo "<pre>";
var_dump($user);
echo "</pre>";
```

### ğŸ” Ce qui se passe avec `<pre>` :

- `<pre>` dit au navigateur d'afficher le texte avec formatting
- Les sauts de ligne et espaces sont conservÃ©s
- La structure devient beaucoup plus lisible

---

## 7. Variables dynamiques $$

### ğŸ¯ Objectif PÃ©dagogique

Comprendre le concept de "variable variable" et ses cas d'usage

### CrÃ©er le fichier **dynamic.php** :

```php
<?php
  $x = "greeting";        // $x contient le string "greeting"
  $$x = "Hello PHP";      // CrÃ©e une variable $greeting = "Hello PHP"

  echo $greeting;         // Affiche "Hello PHP"
  echo "<br>";
  echo $$x;               // Aussi "Hello PHP" - mÃªme chose que $greeting
?>
```

### ğŸ” Ce qui se passe :

1. **Ligne 2** : `$x = "greeting"` â†’ variable normale
2. **Ligne 3** : `$$x = "Hello PHP"` â†’ PHP fait :
   - Regarde la valeur de `$x` â†’ "greeting"
   - CrÃ©e une nouvelle variable `$greeting`
   - Lui assigne la valeur "Hello PHP"
3. **Ligne 5** : `$greeting` existe maintenant et contient "Hello PHP"

ğŸ§ª **RÃ©sultat attendu :**

```
Hello PHP
Hello PHP
```

 **Ã€ retenir :**

- `$x` contient le nom de la variable.
- `$$x` crÃ©e une variable au nom contenu dans `$x`.

---

## 8. Constantes et constantes magiques

### ğŸ¯ Objectif PÃ©dagogique

Comprendre la diffÃ©rence entre variables (modifiables) et constantes (fixes)

### CrÃ©er le fichier **constants.php** :

```php
<?php
  // CONSTANTE PERSONNALISÃ‰E - ne peut plus Ãªtre modifiÃ©e
  define("PI", 3.14);
  echo "La valeur de PI est " . PI . "<br>";

  // PI = 3.15; // âŒ Erreur! Une constante ne peut Ãªtre modifiÃ©e

  // CONSTANTES MAGIQUES - changent selon le contexte
  echo "Fichier actuel : " . __FILE__ . "<br>";
  echo "RÃ©pertoire : " . __DIR__ . "<br>";
  echo "Ligne actuelle : " . __LINE__ . "<br>";
?>
```

### ğŸ” Ce qui se passe :

1. **Ligne 3** : `define()` crÃ©e une constante en mÃ©moire
2. **Ligne 4** : PHP remplace `PI` par sa valeur 3.14
3. **Ligne 8-10** : Les constantes magiques sont prÃ©dÃ©finies par PHP :
   - `__FILE__` : contient toujours le chemin du fichier actuel
   - `__DIR__` : contient le dossier du fichier actuel  
   - `__LINE__` : contient le numÃ©ro de ligne actuel

**RÃ©sultat attendu :**  
Affichage de la constante et des informations de contexte.

---

## 9. Nettoyage et bonnes pratiques

### Checklist

- Supprimer les fichiers de test aprÃ¨s validation.

- Centraliser vos scripts dans un dossier `/htdocs/php-labs/`.

- Documenter chaque script avec un en-tÃªte commentÃ© :

```php
/* 
 * Auteur : Votre nom
 * Objectif : dÃ©monstration du concept X
 * Date : JJ/MM/AAAA
 */
```

---

## Conseils finaux

- Toujours tester vos scripts Ã  la fois **dans le navigateur et en CLI**.

- Utiliser `var_dump()` et `error_log()` pour diagnostiquer les erreurs.

- Toujours dÃ©sactiver `short_open_tag` dans `php.ini` pour compatibilitÃ© maximale.

### ğŸ¯ RÃ©sumÃ© PÃ©dagogique

Maintenant tu comprends que :

- **PHP s'exÃ©cute cÃ´tÃ© serveur**, pas dans le navigateur
- **Les variables ont une portÃ©e** : globale vs locale
- **echo vs print** ont des diffÃ©rences subtiles mais importantes  
- **var_dump()** est ton meilleur ami pour le dÃ©bogage
- **Les constantes** sont immuables une fois dÃ©finies
