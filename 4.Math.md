# Atelier PHP ‚Äì Fonctions Math√©matiques

*(atelier pratique complet, pr√™t √† √™tre ex√©cut√© par les participants)*

---

## Objectifs

- Explorer les **fonctions math√©matiques int√©gr√©es de PHP**.

- Comprendre leur comportement avec **entiers, flottants et signes n√©gatifs**.

- Savoir comment **les combiner** pour des calculs concrets.

- Produire et tester **du code ex√©cutif clair et comment√©**.

> **Pr√©-requis** : PHP ‚â• 8.1 install√©  
> **Ex√©cution** : `php nom_du_fichier.php`

---

## 1Ô∏è‚É£ Valeur absolue ‚Äî `abs()`

**Cr√©er le fichier `s01_abs.php` :**

```php
<?php
// Objectif : illustrer la conversion d‚Äôun nombre en valeur positive avec abs()
// Ex√©cution : php s01_abs.php

$tests = [-9.99, 25.55, -45, 25];

foreach ($tests as $num) {
    echo "Nombre original : $num => Valeur absolue : " . abs($num) . "\n";
}
?>
```

**R√©sultat attendu :**

```
Nombre original : -9.99 => Valeur absolue : 9.99
Nombre original : 25.55 => Valeur absolue : 25.55
Nombre original : -45 => Valeur absolue : 45
Nombre original : 25 => Valeur absolue : 25
```

---

## 2Ô∏è‚É£ Arrondi sup√©rieur ‚Äî `ceil()`

**Cr√©er le fichier `s02_ceil.php` :**

```php
<?php
// Objectif : arrondir vers le haut, m√™me pour les n√©gatifs
// Ex√©cution : php s02_ceil.php

$valeurs = [5.78, 15.05, -3.95];
foreach ($valeurs as $v) {
    echo "ceil($v) = " . ceil($v) . "\n";
}
?>
```

**R√©sultat attendu :**

```
ceil(5.78) = 6
ceil(15.05) = 16
ceil(-3.95) = -3
```

---

## 3Ô∏è‚É£ Arrondi inf√©rieur ‚Äî `floor()`

**Cr√©er le fichier `s03_floor.php` :**

```php
<?php
// Objectif : arrondir vers le bas, quelle que soit la d√©cimale
// Ex√©cution : php s03_floor.php

$valeurs = [15.05, 5.78, -3.95];
foreach ($valeurs as $v) {
    echo "floor($v) = " . floor($v) . "\n";
}
?>
```

**R√©sultat attendu :**

```
floor(15.05) = 15
floor(5.78) = 5
floor(-3.95) = -4
```

---

## 4Ô∏è‚É£ Exponentielle ‚Äî `exp()`

**Cr√©er le fichier `s04_exp.php` :**

```php
<?php
// Objectif : illustrer la croissance exponentielle (e^x)
// Ex√©cution : php s04_exp.php

echo "exp(M_LN2) = " . exp(M_LN2) . "\n";   // 2
echo "exp(M_LN10) = " . exp(M_LN10) . "\n"; // 10
?>
```

**R√©sultat attendu :**

```
exp(M_LN2) = 2
exp(M_LN10) = 10
```

---

## 5Ô∏è‚É£ Division enti√®re ‚Äî `intdiv()`

**Cr√©er le fichier `s05_intdiv.php` :**

```php
<?php
// Objectif : division sans d√©cimales, r√©sultat entier
// Ex√©cution : php s05_intdiv.php

$cas = [
    [10, 3],
    [3, 10],
    [10, -3],
    [-10, 3],
    [-10, -3],
];

foreach ($cas as [$x, $y]) {
    try {
        $r = intdiv($x, $y);
        echo "intdiv($x, $y) = $r\n";
    } catch (DivisionByZeroError $e) {
        echo "intdiv($x, $y) => ERREUR division par z√©ro\n";
    }
}
?>
```

**R√©sultat attendu :**

```
intdiv(10, 3) = 3
intdiv(3, 10) = 0
intdiv(10, -3) = -3
intdiv(-10, 3) = -3
intdiv(-10, -3) = 3
```

---

## 6Ô∏è‚É£ Logarithme base 10 ‚Äî `log10()`

**Cr√©er le fichier `s06_log10.php` :**

```php
<?php
// Objectif : calculer le log base 10 d‚Äôun nombre
// Ex√©cution : php s06_log10.php

$tests = [100, M_E, 0, sqrt(-1)];
foreach ($tests as $t) {
    echo "log10($t) = " . log10($t) . "\n";
}
?>
```

**R√©sultat attendu :**

```
log10(100) = 2
log10(2.718281828459) = 0.43429448190325
log10(0) = -INF
log10(NAN) = NAN
```

---

## 7Ô∏è‚É£ Maximum et Minimum ‚Äî `max()` et `min()`

**Cr√©er le fichier `s07_max_min.php` :**

```php
<?php
// Objectif : trouver la valeur max et min d‚Äôun tableau ou liste
// Ex√©cution : php s07_max_min.php

$nums = [23, 5.55, 142, 56, 99];
echo "max(nums) = " . max($nums) . "\n";
echo "min(nums) = " . min($nums) . "\n";

$langs = ["Java", "Angular", "PHP", "C", "Kotlin"];
echo "max(strings) = " . max($langs) . "\n";
echo "min(strings) = " . min($langs) . "\n";
?>
```

**R√©sultat attendu :**

```
max(nums) = 142
min(nums) = 5.55
max(strings) = PHP
min(strings) = Angular
```

---

## 8Ô∏è‚É£ Puissance ‚Äî `pow()` et op√©rateur `**`

**Cr√©er le fichier `s08_pow.php` :**

```php
<?php
// Objectif : calculer les puissances, racines et surfaces
// Ex√©cution : php s08_pow.php

echo "10^2 = " . pow(10, 2) . " (avec pow)\n";
echo "10 ** 2 = " . (10 ** 2) . " (avec **)\n";

echo "10^0 = " . pow(10, 0) . "\n";
echo "Racine carr√©e de 100 = " . pow(100, 0.5) . "\n";

$rayon = 5;
$aire = M_PI * pow($rayon, 2);
echo "Aire cercle r=5 : $aire\n";
?>
```

**R√©sultat attendu :**

```
10^2 = 100 (avec pow)
10 ** 2 = 100 (avec **)
10^0 = 1
Racine carr√©e de 100 = 10
Aire cercle r=5 : 78.5398
```

---

## 9Ô∏è‚É£ Arrondi ‚Äî `round()`

**Cr√©er le fichier `s09_round.php` :**

```php
<?php
// Objectif : tester arrondis positifs, n√©gatifs et modes sp√©ciaux
// Ex√©cution : php s09_round.php

$val = 1234.567;
echo "round($val) = " . round($val) . "\n";
echo "round($val, 1) = " . round($val, 1) . "\n";
echo "round($val, 2) = " . round($val, 2) . "\n";
echo "round($val, -1) = " . round($val, -1) . "\n";
echo "round($val, -2) = " . round($val, -2) . "\n";

echo "\n== Modes sp√©ciaux ==\n";
echo "PHP_ROUND_HALF_UP : " . round(3.45, 0, PHP_ROUND_HALF_UP) . "\n";
echo "PHP_ROUND_HALF_DOWN : " . round(3.75, 1, PHP_ROUND_HALF_DOWN) . "\n";
echo "PHP_ROUND_HALF_ODD : " . round(3.45, 0, PHP_ROUND_HALF_ODD) . "\n";
echo "PHP_ROUND_HALF_EVEN : " . round(3.78, 0, PHP_ROUND_HALF_EVEN) . "\n";
?>
```

**R√©sultat attendu :**

```
round(1234.567) = 1235
round(1234.567, 1) = 1234.6
round(1234.567, 2) = 1234.57
round(1234.567, -1) = 1230
round(1234.567, -2) = 1200
PHP_ROUND_HALF_UP : 3
PHP_ROUND_HALF_DOWN : 3.7
PHP_ROUND_HALF_ODD : 3
PHP_ROUND_HALF_EVEN : 4
```

---

## üîü Racine carr√©e ‚Äî `sqrt()`

**Cr√©er le fichier `s10_sqrt.php` :**

```php
<?php
// Objectif : calculer racine carr√©e, comparer avec constantes
// Ex√©cution : php s10_sqrt.php

$valeurs = [100, 2, 3, -1];
foreach ($valeurs as $v) {
    echo "sqrt($v) = " . sqrt($v) . "\n";
}

echo "\nConstantes pr√©d√©finies :\n";
echo "M_SQRT2 = " . M_SQRT2 . "\n";
echo "M_SQRT3 = " . M_SQRT3 . "\n";
echo "M_SQRT1_2 = " . M_SQRT1_2 . "\n";
echo "M_SQRTPI = " . M_SQRTPI . "\n";
echo "M_2_SQRTPI = " . M_2_SQRTPI . "\n";
?>
```

**R√©sultat attendu :**

```
sqrt(100) = 10
sqrt(2) = 1.4142135623731
sqrt(3) = 1.7320508075689
sqrt(-1) = NAN
M_SQRT2 = 1.4142135623731
M_SQRT3 = 1.7320508075689
M_SQRT1_2 = 0.70710678118655
M_SQRTPI = 1.7724538509055
M_2_SQRTPI = 1.1283791670955
```

---

## 11Ô∏è‚É£ Exercice ‚Äì Calculateur avanc√©

**Cr√©er le fichier `exo_calc_math.php` :**

```php
<?php
// Objectif : combiner plusieurs fonctions math√©matiques
// Ex√©cution : php exo_calc_math.php

function circleMetrics(float $r): array {
    return [
        'rayon' => $r,
        'diametre' => $r * 2,
        'surface' => M_PI * pow($r, 2),
        'circonference' => 2 * M_PI * $r
    ];
}

function analyseNombre(float $n): array {
    return [
        'valeur' => $n,
        'absolue' => abs($n),
        'ceil' => ceil($n),
        'floor' => floor($n),
        'round' => round($n, 2),
        'sqrt' => ($n >= 0) ? sqrt($n) : NAN
    ];
}

// Tests
$info1 = circleMetrics(5);
$info2 = analyseNombre(-12.678);

echo "== Cercle ==\n";
foreach ($info1 as $k => $v) echo "$k => $v\n";

echo "\n== Nombre ==\n";
foreach ($info2 as $k => $v) echo "$k => $v\n";
?>
```

**R√©sultat attendu :**

```
== Cercle ==
rayon => 5
diametre => 10
surface => 78.539816339745
circonference => 31.415926535898

== Nombre ==
valeur => -12.678
absolue => 12.678
ceil => -12
floor => -13
round => -12.68
sqrt => NAN
```

---

## 12Ô∏è‚É£ Exercice bonus ‚Äì G√©n√©ration de donn√©es math√©matiques

**Cr√©er le fichier `exo_table_math.php` :**

```php
<?php
// Objectif : afficher un tableau de valeurs pour x de -5 √† 5
// Ex√©cution : php exo_table_math.php

echo str_pad("x", 6) . str_pad("abs(x)", 10) . str_pad("sqrt(abs(x))", 18) . "exp(x)\n";
echo str_repeat("-", 45) . "\n";

for ($x = -5; $x <= 5; $x++) {
    printf("%-6d%-10.2f%-18.2f%.4f\n", $x, abs($x), sqrt(abs($x)), exp($x));
}
?>
```

**R√©sultat attendu :**

```
x     abs(x)   sqrt(abs(x))   exp(x)
---------------------------------------------
-5    5.00     2.24           0.0067
...
 0    0.00     0.00           1.0000
 5    5.00     2.24          148.4132
```

---

## 13Ô∏è‚É£ Constantes utiles √† conna√Ætre

| Constante                | Description    | Exemple                  |
| ------------------------ | -------------- | ------------------------ |
| `M_PI`                   | œÄ = 3.14159265 | Aire d‚Äôun cercle         |
| `M_E`                    | e = 2.71828    | Croissance exponentielle |
| `M_LN2`, `M_LN10`        | loge2, loge10  | Base logarithmique       |
| `M_SQRT2`, `M_SQRT3`     | ‚àö2, ‚àö3         | Racines carr√©es          |
| `M_SQRTPI`, `M_2_SQRTPI` | ‚àöœÄ, 2/‚àöœÄ       | Fonctions avanc√©es       |
| `M_LOG10E`               | log10(e)       | Conversion de base log   |

---

## 14Ô∏è‚É£ Conseils de bonnes pratiques

- **Toujours arrondir explicitement** les r√©sultats flottants avant affichage.

- **Utiliser `pow()` ou `**`** plut√¥t que des boucles manuelles.

- **Pr√©f√©rer `intdiv()`** √† une division suivie de `floor()` pour les quotients entiers.

- **Tester les bornes n√©gatives** pour √©viter les `NAN` avec `sqrt()` et `log10()`.

- **Exploiter les constantes** pour √©viter d‚Äô√©crire manuellement œÄ, e, etc.
